<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm@5.1.0/css/xterm.min.css">
<script src="https://cdn.jsdelivr.net/npm/xterm@5.1.0/lib/xterm.min.js"></script>

<div id="terminal" style="width: 100%; height: 400px; background: #000; padding: 10px; border: 2px solid var(--primary-gold); border-radius: 15px;"></div>

<script>
    // إنشاء المحاكي
    const term = new Terminal({
        cursorBlink: true,
        theme: { background: '#000000', foreground: '#c9a962' } // ذهبي نفس ثيمك
    });
    term.open(document.getElementById('terminal'));
    term.writeln('Welcome to NBU Cyberlab OS Simulation...');
    term.write('\r\n$ ');

    // محاكاة الأوامر بسيطة (Front-end Simulation)
    let command = '';
    term.onData(e => {
        if (e === '\r') { // عند الضغط على Enter
            term.write('\r\n');
            handleCommand(command);
            command = '';
            term.write('$ ');
        } else {
            command += e;
            term.write(e);
        }
    });

    function handleCommand(cmd) {
        if (cmd === 'ls') term.writeln('flag.txt  secret_data.db  config.php');
        else if (cmd === 'whoami') term.writeln('guest_user');
        else if (cmd === 'cat flag.txt') term.writeln('CTF{NBU_Terminal_Master_2026}');
        else term.writeln('Command not found: ' + cmd);
    }
</script>